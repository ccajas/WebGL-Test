<!DOCTYPE html>
<html>
<head>
	<title>WebGL test</title>
	<meta charset="utf-8"/>
	<link rel="stylesheet" href="css/main.css" />
	<link rel="stylesheet" href="css/prism.css" />
</head>
</body>
	<div id="app">
		<div id="container">
		<header>
			<div id="app-title">Framework test</div>
			<div id="title">Test</div>
			<ul id="topnav">
				<li v-for="s in sections">
					<a :class="{ hl: section.text == s.text }" v-on:click="setView(s)">{{ s.text }}s</a>
				</li>
			</ul>
		</header>
		<div id="main">
			<section id="sidebar">
				<ul class="icon-nav">
					<li v-for="s in sections">
						<a :class="{ hl: section.text == s.text }" v-on:click="setView(s)">
							<span class="batch">{{{ s.icon }}}</span>
						</a>
					</li>
				</ul>
				<div class="input-w">
					<input v-model="newItem" v-on:keyup.enter="addItem" 
						placeholder="enter new {{ section.text }}"/>
				</div>
				<ul class="hierarchy">
					<li v-for="item in section_data">
						<listitem :item="item" :section="section" inline-template>
							<div v-on:click="viewDetail">
								<span class="batch">{{{ section.icon }}}</span>{{ item.name }}
							</div>
							<ul class="sub">
								<!-- sub-items as object values -->
								<li v-for="subitem in item.data">
									<listitem :item="subitem" :key="$key" inline-template>
										<div v-on:click="viewDetail">
											<span class="batch" data-icon="&#xf0ab;"></span>
											{{ key }} <i>{{ item.type }}</i>
										</div>
									</listitem>
								</li>
							</ul>
						</listitem>

						<!--</sdata>
						<div v-on:click="viewDetail($index)" :class="{ hl: currIndex == $index }">
							<a :style="{ color: currIndex == $index ? section.color : '#ccc' }">
								<span class="batch">{{{ section.icon }}}</span>{{ sdata.name }}
							</a>&nbsp;
							<button class="batch conf" v-on:click="addSubItem($index)">&#xf14c;</button>
							<button class="batch warn" v-on:click="removeItem($index)">&#xf14e;</button>
						</div>
						<ul class="sub">
							<li v-on:click="viewCode($index)" v-for="value in sdata.data">
								<span class="batch" data-icon="&#xf0ab;"></span>
								{{ $key }} <i>{{ value.type }}</i>
							</li>
						</ul>-->
					</li>
				</ul>
				<detailview :item="selectedItem" :name="selectedName" inline-template>
					<div class="bottom">
						<h4>{{ name }} Details</h4>
						<ul>
							<li>
								<div class="left">Name</div>
								<div class="right input-w">
									<input v-model="name"/>
								</div>
							</li>
							<li v-show="item.type != null">
								<div class="left">Type</div>
								<div class="right input-w">
									<input v-model="item.type"/>
								</div>
							</li>
							<!-- show for top-level items with data -->
							<li v-show="item.data != null"><div class="left">Properties</div></li>
							<li v-show="item.data != null" v-for="value in item.data">
								<div class="input-w">
									<input v-model="$key"/>
									<button class="batch">&#xf14e;</button>
								</div>
							</li>
						</ul>
						{{ itemFull }}
					</div>
				</detailview>
			</section>
			<section id="viewport">
				<viewport></viewport>
				<editable :text-content="editorText" inline-template>
					<div class="textedit" v-if="viewable">				
						<ul class="icon-nav">
							<li><a>Code Editor</a></li>
							<li><a v-on:click="save"><span class="batch">&#xf059;</span></a></li>
							<li><a v-on:click="viewable = false"><span class="batch">&#xf0c5;</span></a></li>
						</ul>
						<code>
							<pre v-on:keyup="keyEdit($event)" spellcheck="false"
							contenteditable="{{ viewable }}" class="language-json">{{ textContent }}</pre>
						</code>
					</div>			
				</editable>
			</section>
		</div>
	</div>
	<script src="lib/vue.js"></script>
	<script src="lib/prism.js"></script>
	<script src="framework.js"></script>
	<script src="editor.js"></script>
</body>
</html>